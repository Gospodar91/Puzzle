(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,i,e){},QfWi:function(t,i,e){"use strict";e.r(i);e("L1EO"),e("FWxf");var s=function(){function t(t,i){this.index=i,this.puzzle=t,this.isEmpty=!1,this.width=this.puzzle.width/this.puzzle.dimension,this.height=this.puzzle.height/this.puzzle.dimension,this.el=this.createDiv(),t.el.appendChild(this.el),this.index!==this.puzzle.dimension*this.puzzle.dimension-1?(this.setImg(),this.setPosition(this.index)):this.isEmpty=!0}var i=t.prototype;return i.createDiv=function(){var t=this,i=document.createElement("div");return i.style.position="absolute",i.style.backgroundRepeat="no repeat",i.style.backgroundSize=this.puzzle.width+"px "+this.puzzle.height+"px",i.style.width=this.width+"px",i.style.height=this.height+"px",i.style.border="1px solid black",i.onclick=function(i){console.log("this.puzzle.findPosition",t.index,t.puzzle.findPosition(t.index));var e=t.puzzle.findPosition(t.index),s=t.puzzle.findEmpty(),n=t.getXY(e),h=n.x,o=n.y,l=t.getXY(s),r=l.x,u=l.y;h!==r&&(o!==u||1!==Math.abs(h-r)&&1!==Math.abs(o-u))||t.puzzle.swapCells(e,s)},i},i.setImg=function(){var t=this.getXY(this.index),i=t.x,e=t.y,s=this.width*i,n=this.height*e;this.el.style.backgroundImage="url("+this.puzzle.imgSrc+")",this.el.style.backgroundPosition="-"+s+"px -"+n+"px"},i.setPosition=function(t){var i=this.getPositionFromIndex(t),e=i.left,s=i.top;this.el.style.left=e+"px",this.el.style.top=s+"px"},i.getPositionFromIndex=function(t){var i=this.getXY(t),e=i.x,s=i.y;return{left:this.width*e,top:this.height*s}},i.getXY=function(t){return{x:t%this.puzzle.dimension,y:Math.floor(t/this.puzzle.dimension)}},t}();new(function(){function t(t,i,e){var s=this;this.parentEl=t,this.dimension=5,this.imgSrc=i,this.width=e,this.cells=[],this.init();var n=new Image;n.onload=function(){s.height=n.height*s.width/n.width,s.el.style.width=s.width+"px",s.el.style.height=s.height+"px",s.setup()},n.src=this.imgSrc}var i=t.prototype;return i.createWrapper=function(){var t=document.createElement("div");return t.style.position="relative",t.style.margin="0 auto",t},i.init=function(){this.el=this.createWrapper(),this.parentEl.appendChild(this.el)},i.setup=function(){for(var t=0;t<this.dimension*this.dimension;t++)this.cells.push(new s(this,t));this.shuffle(),setTimeout(console.log("testSetTimeout"),5e3)},i.shuffle=function(){for(var t=this.cells.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1));this.swapCells(t,i)}console.log("i",this.cells)},i.swapCells=function(t,i){var e=[this.cells[i],this.cells[t]];this.cells[t]=e[0],this.cells[i]=e[1],this.cells[t].setPosition(t),this.cells[i].setPosition(i),this.isAssemble()&&console.log("win")},i.findPosition=function(t){return this.cells.findIndex((function(i){return i.index===t}))},i.findEmpty=function(){return this.cells.findIndex((function(t){return t.isEmpty}))},i.isAssemble=function(){for(var t=0;t<4;t++)if(t!==this.cells[t].index)return!1;return!0},t}())(document.getElementById("puzzle-wrapper"),"http://cs.pikabu.ru/images/jobseeker/logo2.png",400)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.bacee5ddf12f30afed86.js.map